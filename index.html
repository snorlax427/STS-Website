<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project RENEW - Interactive Waste Management</title>
  <style>
    /* Reset */
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    html {
      scroll-behavior: smooth;
    }
    body {
      background: linear-gradient(135deg, #a0d468 0%, #6bbf59 100%);
      color: #1b2a14;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    body.dark {
      background: #242E15;
      color: #BFD4A9;
    }
    header {
      background-color: #3b6e22;
      color: #e7f4e4;
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 4px 6px rgba(0,0,0,0.15);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    body.dark header {
      background-color: #1c3310;
      color: #cee0b1;
    }
    header h1 {
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: 2px;
    }
    nav {
      margin-left: auto;
    }
    nav ul {
      display: flex;
      list-style: none;
      justify-content: center;
      gap: 2rem;
    }
    nav ul li a {
      color: #e7f4e4;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.1rem;
      padding: 0.3rem 0.5rem;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }
    nav ul li a:hover,
    nav ul li a:focus {
      background-color: #acc78d;
      color: #2b4920;
    }
    main {
      flex-grow: 1;
      max-width: 1100px;
      margin: 2rem auto;
      background-color: #f0f7ebdd;
      border-radius: 12px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.15);
      padding: 2rem 3rem;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    body.dark main {
      background-color: #2c3f13dd;
      color: #c7d8a2;
    }
    section {
      margin-bottom: 4rem;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.7s ease, transform 0.7s ease;
    }
    section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    h2 {
      font-size: 2.2rem;
      color: #2a4d14;
      margin-bottom: 1rem;
      border-bottom: 3px solid #7cb342;
      display: inline-block;
      padding-bottom: 0.2rem;
      user-select: none;
    }
    body.dark h2 {
      color: #a6c77f;
      border-color: #9abc71;
    }
    p, li {
      font-size: 1.1rem;
      line-height: 1.6;
      color: #39521f;
    }
    body.dark p, body.dark li {
      color: #b3c79c;
    }
    /* Home */
    #home p {
      font-weight: 600;
      margin-top: 1rem;
    }
    /* Schedule */
    #schedule label {
      font-size: 1.25rem;
      font-weight: 600;
      color: #2f4913;
      margin-bottom: 0.5rem;
      display: block;
    }
    #schedule select {
      font-size: 1.1rem;
      padding: 0.6rem 0.8rem;
      border-radius: 6px;
      border: 1px solid #7caf3d;
      background-color: #d8efbc;
      cursor: pointer;
      margin-bottom: 1rem;
      width: 100%;
      max-width: 350px;
      transition: background-color 0.3s ease;
    }
    #schedule select:hover, #schedule select:focus {
      background-color: #c6e1a3;
      outline: none;
    }
    #schedule .schedule-display {
      background: #c6e1a3;
      border-radius: 10px;
      padding: 1rem 1.5rem;
      box-shadow: inset 0 0 8px #a0c88b;
      font-weight: 700;
      color: #2f4913;
      max-width: 350px;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    #schedule .schedule-display strong {
      color: #39521f;
    }
    #schedule .extra-info {
      margin-top: 1rem;
      font-weight: 600;
      color: #31531c;
      max-width: 350px;
      background-color: #d9edc4;
      padding: 1rem 1.3rem;
      border-radius: 8px;
      box-shadow: inset 0 0 8px #accd9a;
    }
    /* Learn */
    #learn .cards {
      display: flex;
      flex-wrap: nowrap;
      gap: 1.2rem;
      margin-top: 1rem;
      overflow-x: auto;
      padding-bottom: 1rem;
      -webkit-overflow-scrolling: touch;
    }
    #learn .card {
      background: #d3edbf;
      border-radius: 14px;
      box-shadow: 0 4px 8px rgba(85, 139, 47, 0.25);
      flex: 0 0 300px;
      padding: 1.5rem;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      user-select: none;
    }
    #learn .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 10px 20px rgba(85, 139, 47, 0.4);
    }
    #learn .card h3 {
      margin-bottom: 0.8rem;
      color: #3e6621;
    }
    #learn .card p {
      font-weight: 500;
      color: #3d5720;
      min-height: 60px;
    }
    #learn .card.open p {
      max-height: 500px;
      transition: max-height 0.5s ease;
      overflow: visible;
    }
    #learn .card p.short-desc {
      max-height: 60px;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    #learn .card .toggle-info {
      position: absolute;
      bottom: 1rem;
      right: 1rem;
      background-color: #7cb342;
      color: #eef7da;
      padding: 0.3rem 0.8rem;
      font-weight: 600;
      font-size: 0.9rem;
      border-radius: 20px;
      cursor: pointer;
      user-select: none;
      box-shadow: 0 4px 12px #8bb75bcc;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    #learn .card .toggle-info:hover {
      background-color: #5c8631;
    }
    /* Articles */
    #articles .search-container {
      margin-bottom: 1.2rem;
      max-width: 400px;
    }
    #articles input[type="search"] {
      width: 100%;
      padding: 0.6rem 1rem;
      font-size: 1.1rem;
      border-radius: 8px;
      border: 1px solid #7caf3d;
      background-color: #d8efbc;
      color: #2f4913;
      transition: background-color 0.3s ease;
    }
    #articles input[type="search"]:focus,
    #articles input[type="search"]:hover {
      background-color: #c6e1a3;
      outline: none;
    }
    #articles .articles-container {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
      gap: 1.5rem;
    }
    #articles .article-card {
      background: #dff0d1;
      border-radius: 12px;
      padding: 1rem 1.2rem;
      box-shadow: 0 3px 8px rgba(46, 99, 25, 0.2);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: default;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    #articles .article-card:hover,
    #articles .article-card:focus-within {
      background-color: #cbedaa;
    }
    #articles .article-card h4 {
      color: #3a5c0d;
      margin-bottom: 0.6rem;
    }
    #articles .article-card p {
      font-size: 1rem;
      font-weight: 400;
      color: #4c6a18;
    }
    #articles .article-card a {
      margin-top: auto;
      align-self: flex-start;
      text-decoration: none;
      color: #38761d;
      font-weight: 600;
      border-bottom: 1.5px solid #38761d;
      transition: color 0.3s ease;
    }
    #articles .article-card a:hover,
    #articles .article-card a:focus {
      color: #28350f;
      border-color: #28350f;
    }
    /* Updates */
    #updates .update-list {
      list-style: none;
      margin-top: 1rem;
      max-width: 600px;
    }
    #updates .update-list li {
      background: #ceeccf;
      border-radius: 10px;
      padding: 1rem 1.2rem;
      margin-bottom: 1rem;
      box-shadow: inset 0 0 8px #accd9a;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    #updates .update-list li:hover,
    #updates .update-list li:focus {
      background-color: #9dc36d;
      color: #eef7da;
      cursor: default;
    }
    /* Footer */
    footer {
      background-color: #3b6e22;
      color: #d5e5cb;
      text-align: center;
      padding: 1rem 2rem;
      font-size: 0.9rem;
      user-select: none;
    }
    body.dark footer {
      background-color: #1c3310;
      color: #a8bb8a;
    }
    /* Responsive */
    @media (max-width: 700px) {
      nav ul {
        flex-direction: column;
        gap: 1rem;
        align-items: center;
      }
      main {
        padding: 1.5rem 2rem;
        margin: 1rem;
      }
      #learn .cards {
        flex-wrap: nowrap;
      }
      #learn .card {
        flex: 0 0 260px;
      }
    }
    /* Modal styles */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right:0;
      bottom: 0;
      background: rgba(30, 69, 7, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s linear 0.25s, opacity 0.25s 0s;
      z-index: 1050;
    }
    .modal.active {
      visibility: visible;
      opacity: 1;
      transition-delay: 0s;
    }
    .modal-content {
      background: #ecf0d4;
      border-radius: 12px;
      max-width: 600px;
      padding: 2rem 2.5rem;
      box-shadow: 0 0 30px rgba(36, 97, 14, 0.9);
      animation: popin 0.3s ease forwards;
      position: relative;
    }
    .modal-content h3 {
      color: #305015;
      margin-bottom: 1rem;
    }
    .modal-content p {
      font-size: 1.1rem;
      color: #3b5518;
      line-height: 1.5;
    }
    @keyframes popin {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }
    .modal-close {
      position: absolute;
      top: 0.6rem;
      right: 1rem;
      background: transparent;
      border: none;
      font-size: 1.7rem;
      font-weight: 700;
      color: #44841a;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .modal-close:hover,
    .modal-close:focus {
      color: #2c460f;
    }
    /* Dark mode toggle button */
    #darkModeToggle {
      font-size: 0.95rem;
      background-color: #7cb342;
      color: #eef7da;
      border: none;
      border-radius: 20px;
      padding: 0.4rem 1rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 12px #8bb75bcc;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    #darkModeToggle:hover,
    #darkModeToggle:focus {
      background-color: #5c8631;
      outline: none;
    }
    /* Scrollbar for horizontal scroll */
    #learn .cards::-webkit-scrollbar {
      height: 8px;
    }
    #learn .cards::-webkit-scrollbar-track {
      background: #d8efbc;
      border-radius: 8px;
    }
    #learn .cards::-webkit-scrollbar-thumb {
      background-color: #7caf3d;
      border-radius: 8px;
    }
  </style>
</head>
<body>
<header>
  <h1>Project RENEW</h1>
  <nav aria-label="Primary navigation">
    <ul>
      <li><a href="#home" tabindex="0">Home</a></li>
      <li><a href="#schedule" tabindex="0">Schedule</a></li>
      <li><a href="#learn" tabindex="0">Learn</a></li>
      <li><a href="#articles" tabindex="0">Articles</a></li>
      <li><a href="#updates" tabindex="0">Updates</a></li>
    </ul>
  </nav>
  <button id="darkModeToggle" aria-pressed="false" aria-label="Toggle dark mode">Dark Mode</button>
</header>

<main>
  <section id="home" tabindex="-1">
    <h2>Welcome to Project RENEW</h2>
    <p>
      Reduce, Engage, Nurture, and Empower the Waste Management in Barangay Munlawin Norte. This platform is designed to
      modernize and streamline waste management operations through enhanced communication, real-time tracking, educational campaigns,
      and informative updates. Together, we work towards a cleaner, greener, and healthier community and environment.
    </p>
  </section>

  <section id="schedule" tabindex="-1">
    <h2>Waste Collection Schedule</h2>
    <label for="purokSelect">Select your Purok to see collection days and times:</label>
    <select id="purokSelect" aria-describedby="scheduleDescr" >
      <option value="" disabled selected>Select your Purok</option>
      <option value="purok1">Purok 1</option>
      <option value="purok2">Purok 2</option>
      <option value="purok3">Purok 3</option>
      <option value="purok4">Purok 4</option>
      <option value="purok5">Purok 5</option>
    </select>
    <div class="schedule-display" id="scheduleOutput" aria-live="polite" aria-atomic="true" tabindex="0">
      Please select your Purok above to view schedule.
    </div>
    <div class="extra-info" aria-label="Additional waste collection information">
      <p><strong>Composting Drop-off:</strong> Saturdays, 9 AM - 12 PM at Barangay Hall</p>
      <p><strong>Bulky Waste Collection:</strong> Last Friday of every month</p>
    </div>
  </section>

  <section id="learn" tabindex="-1">
    <h2>Educational Campaigns</h2>
    <div class="cards" role="list" aria-label="Educational campaigns cards">
      <article class="card" role="listitem" tabindex="0" aria-describedby="learn1-desc" >
        <h3>Proper Waste Segregation</h3>
        <p id="learn1-desc" class="short-desc">
          Proper waste segregation helps a lot in efficient recycling. Click to expand for details.
        </p>
        <div class="toggle-info" tabindex="0" aria-pressed="false" role="button" aria-label="Toggle details for Proper Waste Segregation">Read More</div>
      </article>
      <article class="card" role="listitem" tabindex="0" aria-describedby="learn2-desc">
        <h3>Composting at Home</h3>
        <p id="learn2-desc" class="short-desc">
          Discover benefits of home composting. Click to expand for more information.
        </p>
        <div class="toggle-info" tabindex="0" aria-pressed="false" role="button" aria-label="Toggle details for Composting at Home">Read More</div>
      </article>
      <article class="card" role="listitem" tabindex="0" aria-describedby="learn3-desc">
        <h3>Reducing Plastic Use</h3>
        <p id="learn3-desc" class="short-desc">
          Tips for reducing plastic usage. Click to expand to learn more.
        </p>
        <div class="toggle-info" tabindex="0" aria-pressed="false" role="button" aria-label="Toggle details for Reducing Plastic Use">Read More</div>
      </article>
    </div>
  </section>

  <section id="articles" tabindex="-1">
    <h2>Waste Management Articles</h2>
    <div class="search-container">
      <input type="search" placeholder="Search articles..." id="articleSearch" aria-label="Search articles by title or keywords">
    </div>
    <div class="articles-container" aria-label="Articles list" id="articlesList">
      <article class="article-card" tabindex="0" aria-labelledby="art1-title" data-keywords="waste disposal health environment impact">
        <h4 id="art1-title">The Importance of Proper Waste Disposal</h4>
        <p>Understanding the impact of improper waste disposal on public health and the environment.</p>
        <a href="https://www.epa.gov/recycle" target="_blank" rel="noopener noreferrer" tabindex="0">Learn more</a>
      </article>
      <article class="article-card" tabindex="0" aria-labelledby="art2-title" data-keywords="composting soil kitchen scraps garden guide">
        <h4 id="art2-title">Composting Basics for Beginners</h4>
        <p>Step-by-step guide to turning your kitchen scraps into nutrient-rich soil for your garden.</p>
        <a href="https://www.planetnatural.com/composting-101/" target="_blank" rel="noopener noreferrer" tabindex="0">Learn more</a>
      </article>
      <article class="article-card" tabindex="0" aria-labelledby="art3-title" data-keywords="zero waste sustainable lifestyle reduce change">
        <h4 id="art3-title">Zero Waste Lifestyle: How to Start</h4>
        <p>Simple changes you can make to reduce waste and live more sustainably.</p>
        <a href="https://zerowastehome.com/" target="_blank" rel="noopener noreferrer" tabindex="0">Learn more</a>
      </article>
    </div>
  </section>

  <section id="updates" tabindex="-1">
    <h2>Latest Updates</h2>
    <ul class="update-list" aria-label="Latest updates list">
      <li>Barangay Munlawin Norte launches new waste segregation guidelines effective May 2024.</li>
      <li>Government program announce increased coverage for household recycling assistance starting June.</li>
      <li>Upcoming community clean-up drive scheduled for July 15, volunteers welcome!</li>
    </ul>
  </section>
</main>

<footer>
  <p>© 2024 Project RENEW, Barangay Munlawin Norte | Empowering a Sustainable Future</p>
</footer>

<script>
  // Intersection Observer for fade-in sections on scroll
  const sections = document.querySelectorAll("main section");
  const observerOptions = { threshold: 0.1 };
  const sectionObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);
  sections.forEach(section => sectionObserver.observe(section));

  // Schedule data for Puroks
  const scheduleData = {
    "purok1": "Collection Days: Mondays and Thursdays\nTime: 7 AM - 10 AM",
    "purok2": "Collection Days: Tuesdays and Fridays\nTime: 7 AM - 10 AM",
    "purok3": "Collection Days: Wednesdays and Saturdays\nTime: 7 AM - 10 AM",
    "purok4": "Collection Days: Mondays and Fridays\nTime: 1 PM - 4 PM",
    "purok5": "Collection Days: Tuesdays and Saturdays\nTime: 1 PM - 4 PM"
  };
  const purokSelect = document.getElementById("purokSelect");
  const scheduleOutput = document.getElementById("scheduleOutput");

  purokSelect.addEventListener("change", () => {
    const selected = purokSelect.value;
    if(scheduleData[selected]) {
      scheduleOutput.textContent = scheduleData[selected];
    } else {
      scheduleOutput.textContent = "Please select your Purok above to view schedule.";
    }
    scheduleOutput.focus();
  });

  // Educational Campaign cards toggle info expansion
  const learnCards = document.querySelectorAll("#learn .card");
  const learnDetails = [
    "Proper waste segregation involves separating your garbage into categories such as biodegradable, recyclable, residual, and special wastes. This helps in effective recycling and reduces the waste sent to the landfill. Use color-coded bins and follow local guidelines to segregate correctly.",
    "Composting is turning organic waste like food scraps and garden waste into nutrient-rich soil amendment. Start with a compost bin or simple pile in your backyard. Keep the pile moist and turn it regularly to speed up decomposition. Composting reduces landfill waste and supports healthy soil.",
    "Reducing plastic consumption starts with conscious choices: use reusable bags, avoid single-use plastics, and prefer products with minimal plastic packaging. Proper disposal and recycling of plastics also help. Small efforts collectively reduce plastic pollution and protect marine life."
  ];

  learnCards.forEach((card, i) => {
    const toggleBtn = card.querySelector(".toggle-info");
    toggleBtn.addEventListener("click", () => toggleCard(card, i, toggleBtn));
    toggleBtn.addEventListener("keydown", (e) => {
      if(e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        toggleCard(card, i, toggleBtn);
      }
    });
    card.addEventListener("keydown", (e) => {
      if(e.key === "Enter" && !card.classList.contains("open")) {
        e.preventDefault();
        toggleCard(card, i, toggleBtn);
      }
    });
  });

  function toggleCard(card, i, btn) {
    const p = card.querySelector("p");
    if(card.classList.contains("open")) {
      // Close
      p.textContent = p.getAttribute("data-short") || p.textContent.split(".")[0] + "...";
      card.classList.remove("open");
      btn.textContent = "Read More";
      btn.setAttribute("aria-pressed", "false");
    } else {
      // Open
      p.textContent = learnDetails[i];
      card.classList.add("open");
      btn.textContent = "Read Less";
      btn.setAttribute("aria-pressed", "true");
      p.setAttribute("data-short", p.textContent);
    }
  }

  // Article search filtering
  const articleSearch = document.getElementById("articleSearch");
  const articlesList = document.getElementById("articlesList");
  articleSearch.addEventListener("input", () => {
    const val = articleSearch.value.trim().toLowerCase();
    const articles = articlesList.querySelectorAll("article.article-card");
    articles.forEach(article => {
      const title = article.querySelector("h4").textContent.toLowerCase();
      const keywords = article.getAttribute("data-keywords") || "";
      if(title.includes(val) || keywords.toLowerCase().includes(val)) {
        article.style.display = "";
      } else {
        article.style.display = "none";
      }
    });
  });

  // Dark mode toggle
  const darkModeToggle = document.getElementById("darkModeToggle");
  darkModeToggle.addEventListener("click", () => {
    document.body.classList.toggle("dark");
    const isDark = document.body.classList.contains("dark");
    darkModeToggle.setAttribute("aria-pressed", isDark);
    darkModeToggle.textContent = isDark ? "Light Mode" : "Dark Mode";
  });
</script>

</body>
</html>